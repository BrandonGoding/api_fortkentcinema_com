{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <title>{% block title %}Fort Kent Cinema{% endblock %}</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="{% block description %}Fort Kent Cinema is a cozy, two-screen theater nestled in the heart of downtown Fort Kent. Each auditorium offers comfortable seating for up to 100 guests.{% endblock %}">

    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:type" content="{% block og_type %}website{% endblock %}">
    <meta property="og:title" content="{% block og_title %}Fort Kent Cinema{% endblock %}">
    <meta property="og:image" content="{% block og_image %}{% static 'website/img/projector-background.jpg' %}{% endblock %}" />
    <meta property="og:description" content="{% block og_description %}Catch the latest movies at Fort Kent Cinema in northern Maine.{% endblock %}">

    <script type="application/ld+json">
      {
        "@context": "http://schema.org",
        "@type": "MovieTheater",
        "url": "https://www.fortkentcinema.com/",
        "name": "Fort Kent Cinema",
        "telephone": "+1-207-231-5287",
        "sameAs": [
            "https://www.facebook.com/FortKentCinema/",
            "https://www.youtube.com/@FortKentCinema"
          ],
          "geo": {
            "@type": "GeoCoordinates",
            "latitude": 47.24900519044751,
            "longitude": -68.59819854377619
          },
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "13 Hall Street",
          "addressLocality": "Fort Kent",
          "addressRegion": "ME",
          "postalCode": "04743",
          "addressCountry": "USA"
        },
        "openingHoursSpecification": [
            {
              "@type": "OpeningHoursSpecification",
              "dayOfWeek": ["Friday","Saturday","Sunday"],
              "opens": "15:00",
              "closes": "21:00"
            }
          ]
      }
    </script>


    {% tailwind_css %}
    {% block extra_css %}
    {% endblock %}

{% if GA_ENABLED and GA_MEASUREMENT_ID %}
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id={{ GA_MEASUREMENT_ID }}"></script>
  <script>
    // Respect Do Not Track (optional but nice)
    (function(){
      var dnt = (navigator.doNotTrack == "1" || window.doNotTrack == "1" || navigator.msDoNotTrack == "1");
      if (dnt) { return; }

      window.dataLayer = window.dataLayer || [];
      function gtag(){ dataLayer.push(arguments); }
      window.gtag = gtag;

      gtag('js', new Date());
      // GA4 anonymizes IP by default; keep other config here:
      gtag('config', '{{ GA_MEASUREMENT_ID }}', {
        // Example extras:
        // 'debug_mode': {{ DEBUG|yesno:"true,false" }}, // only if you want DebugView locally
        'send_page_view': true
      });
    })();
  </script>
{% endif %}
</head>

<body class="bg-gray-50 text-black font-serif leading-normal tracking-normal">
<header class="bg-white">
        <nav aria-label="Global" class="mx-auto flex max-w-7xl items-center justify-between gap-x-6 p-6 lg:px-8">
            <div class="flex lg:flex-1"><a href="{% url 'website:index' %}" class="-m-1.5 p-1.5"><span
                    class="sr-only">Fort Kent Cinema</span><img alt="Fort Kent Cinema Logo" class="h-8 w-auto"
                                                                src="{% static 'website/img/FKC_logo_black.png' %}"></a>
            </div>
            <div class="hidden lg:flex lg:gap-x-12"><a href="{% url 'website:archive' %}" class="text-sm/6 font-semibold text-gray-900">Archive</a><a
                    href="{% url 'website:blog_list' %}" class="text-sm/6 font-semibold text-gray-900">Blog</a><a
                    href="{% url 'website:coming_soon' %}" class="text-sm/6 font-semibold text-gray-900">Coming Soon</a>
            <a
                    href="{% url 'website:contact' %}" class="text-sm/6 font-semibold text-gray-900">Contact</a>
            </div>
            <div class="flex flex-1 items-center justify-end gap-x-6"><a href="#"
                                                                         class="hidden text-sm/6 font-semibold text-gray-900 lg:block">Log
                in</a><a href="#"
                         class="rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Sign
                up</a></div>
            <div class="flex lg:hidden">
                <button type="button"
                        class="-m-2.5 inline-flex items-center justify-center rounded-md p-2.5 text-gray-700"><span
                        class="sr-only">Open main menu</span>
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
                         stroke="currentColor" aria-hidden="true" data-slot="icon" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round"
                              d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"></path>
                    </svg>
                </button>
            </div>
        </nav>

        <el-dialog>
    <dialog id="mobile-menu" class="backdrop:bg-transparent lg:hidden">
      <div tabindex="0" class="fixed inset-0 focus:outline-none">
        <el-dialog-panel class="fixed inset-y-0 right-0 z-50 w-full overflow-y-auto bg-white p-6 sm:max-w-sm sm:ring-1 sm:ring-gray-900/10 dark:bg-gray-900 dark:sm:ring-gray-100/10">
          <div class="flex items-center justify-between">
            <a href="{% url 'website:index' %}" class="-m-1.5 p-1.5">
              <span class="sr-only">Fort Kent Cinema</span>
              <img src="{% static 'website/img/FKC_logo_black.png' %}" alt="" class="h-8 w-auto dark:hidden" />
              <img src="{% static 'website/img/FKC_logo_black.png' %}" alt="" class="h-8 w-auto not-dark:hidden" />
            </a>
            <button type="button" command="close" commandfor="mobile-menu" class="-m-2.5 rounded-md p-2.5 text-gray-700 dark:text-gray-400">
              <span class="sr-only">Close menu</span>
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" data-slot="icon" aria-hidden="true" class="size-6">
                <path d="M6 18 18 6M6 6l12 12" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
            </button>
          </div>
          <div class="mt-6 flow-root">
            <div class="-my-6 divide-y divide-gray-500/10 dark:divide-white/10">
              <div class="space-y-2 py-6">
                <a href="{% url 'website:archive' %}" class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50 dark:text-white dark:hover:bg-white/5">Archive</a>
                <a href="{% url 'website:blog_list' %}" class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50 dark:text-white dark:hover:bg-white/5">Blog</a>
                <a href="{% url 'website:coming_soon' %}" class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50 dark:text-white dark:hover:bg-white/5">Coming Soon</a>
                  <a href="{% url 'website:contact' %}" class="-mx-3 block rounded-lg px-3 py-2 text-base/7 font-semibold text-gray-900 hover:bg-gray-50 dark:text-white dark:hover:bg-white/5">Contact</a>
              </div>
              <div class="py-6">
                <a href="#" class="-mx-3 block rounded-lg px-3 py-2.5 text-base/7 font-semibold text-gray-900 hover:bg-gray-50 dark:text-white dark:hover:bg-white/5">Log in</a>
                <a href="#" class="-mx-3 block rounded-lg px-3 py-2.5 text-base/7 font-semibold text-gray-900 hover:bg-gray-50 dark:text-white dark:hover:bg-white/5">Sign Up</a>
              </div>
            </div>
          </div>
        </el-dialog-panel>
      </div>
    </dialog>
  </el-dialog>
    </header>
<script>
  (function () {
    // Elements
    const header = document.querySelector('header');
    const dialog = document.getElementById('mobile-menu');
    const panel = dialog?.querySelector('el-dialog-panel');
    const closeBtn = dialog?.querySelector('button[command="close"][commandfor="mobile-menu"]');

    // Find the hamburger button (the one inside the lg:hidden container)
    const openBtn = header?.querySelector('div.lg\\:hidden button');

    if (!header || !dialog || !panel || !openBtn || !closeBtn) return;

    // Helpers
    const openMenu = () => {
      if (typeof dialog.showModal === 'function') {
        dialog.showModal();
      } else {
        // Fallback for very old browsers
        dialog.setAttribute('open', '');
      }
      document.body.classList.add('overflow-hidden');
      openBtn.setAttribute('aria-expanded', 'true');
      // Move focus to the close button for accessibility
      closeBtn.focus({ preventScroll: true });
    };

    const closeMenu = () => {
      if (dialog.open) dialog.close();
      dialog.removeAttribute('open'); // in case fallback was used
      document.body.classList.remove('overflow-hidden');
      openBtn.setAttribute('aria-expanded', 'false');
      // Return focus to the trigger
      openBtn.focus({ preventScroll: true });
    };

    // Events
    openBtn.addEventListener('click', openMenu);
    closeBtn.addEventListener('click', closeMenu);

    // Close on Esc (native <dialog> handles this, but we add a safety net)
    dialog.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') closeMenu();
    });

    // Close when clicking outside the panel (backdrop click)
    dialog.addEventListener('click', (e) => {
      // Clicks that are not inside the panel will close the menu
      if (!panel.contains(e.target)) {
        closeMenu();
      }
    });

    // Prevent clicks inside the panel from bubbling to the dialog handler
    panel.addEventListener('click', (e) => e.stopPropagation());

    // Optional: close if the browser navigates history (Android back button behavior)
    window.addEventListener('popstate', () => {
      if (dialog.open) closeMenu();
    });

    // Mark the trigger for a11y
    openBtn.setAttribute('aria-controls', 'mobile-menu');
    openBtn.setAttribute('aria-expanded', 'false');
  })();
</script>

{% block content %}
{% endblock content %}
    <footer class="bg-white">
        <div class="mx-auto max-w-7xl px-6 py-12 md:flex md:items-center md:justify-between lg:px-8">
            <div class="flex justify-center gap-x-6 md:order-2"><a href="https://www.facebook.com/FortKentCinema/"
                                                                   class="text-gray-600 hover:text-gray-800"><span
                    class="sr-only">Facebook</span>
                <svg fill="currentColor" viewBox="0 0 24 24" aria-hidden="true" class="size-6">
                    <path fill-rule="evenodd"
                          d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z"
                          clip-rule="evenodd"></path>
                </svg>
            </a><a href="https://github.com/BrandonGoding/api_fortkentcinema_com"
                   class="text-gray-600 hover:text-gray-800"><span class="sr-only">GitHub</span>
                <svg fill="currentColor" viewBox="0 0 24 24" aria-hidden="true" class="size-6">
                    <path fill-rule="evenodd"
                          d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z"
                          clip-rule="evenodd"></path>
                </svg>
            </a><a href="https://www.youtube.com/@FortKentCinema" class="text-gray-600 hover:text-gray-800"><span
                    class="sr-only">YouTube</span>
                <svg fill="currentColor" viewBox="0 0 24 24" aria-hidden="true" class="size-6">
                    <path fill-rule="evenodd"
                          d="M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.746 22 12 22 12s0 3.255-.418 4.814a2.504 2.504 0 0 1-1.768 1.768c-1.56.419-7.814.419-7.814.419s-6.255 0-7.814-.419a2.505 2.505 0 0 1-1.768-1.768C2 15.255 2 12 2 12s0-3.255.417-4.814a2.507 2.507 0 0 1 1.768-1.768C5.744 5 11.998 5 11.998 5s6.255 0 7.814.418ZM15.194 12 10 15V9l5.194 3Z"
                          clip-rule="evenodd"></path>
                </svg>
            </a></div>
            <p class="mt-8 text-center text-sm/6 text-gray-600 md:order-1 md:mt-0">© 2025 Fort Kent Cinema, LLC. All
                rights reserved.</p></div>
    </footer>
</body>
</html>
