{% extends 'base.html' %}
{% load static %}
{% block title %}Coming Soon to Fort Kent Cinema{% endblock %}
{% block description %}See what’s coming soon to Fort Kent Cinema! Stay up to date with upcoming movies, release dates, and trailers so you can plan your next night at the movies in Fort Kent, Maine.{% endblock %}">
{% block og_title %}Fort Kent Cinema | Coming Soon{% endblock %}">
{% block extra_css %}

<!-- FullCalendar CDN (v6) -->
  <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js"></script>



{% endblock %}
{% block content %}

    <div class="flex flex-col items-center justify-center m-2 ">

            <section class="max-w-3xl mx-auto px-4 py-12 text-gray-800">
  <h3 class="text-2xl font-semibold text-center text-gray-900 mb-6">
    Coming Soon at Fort Kent Cinema
  </h3>

  <div class="space-y-5 text-lg leading-relaxed">
    <p class="mb-5">
      Get ready for an exciting lineup heading your way at the St. John Valley’s favorite movie destination.
      We’ve got something for everyone—thrilling premieres, thoughtful documentaries, family-friendly
      blockbusters, and underground gems. Stay tuned; your next favorite movie night might be just around the
      corner.
    </p>

    <p class="mb-5">
      Whether you’re planning a date night, a fun outing with friends, or a solo escape from the everyday, we’re here to make it special. Our seats are comfy, the popcorn’s hot, and the atmosphere is all about community and good times. Keep an eye on this page for booking dates, surprise screenings, and exclusive events that only happen at Fort Kent Cinema.
    </p>

    <p class="mb-5">
      Bookmark this page and swing by often—because the magic of the big screen is about to drop right here in Fort Kent. We can’t wait to welcome you, share some stories, and make some memories.
    </p>
  </div>
</section>


        <div class="w-full max-w-full sm:max-w-[600px] md:max-w-[900px] lg:max-w-[1090px] flex flex-col items-center justify-center p-2 sm:p-4 m-2 rounded-lg shadow-md bg-white">
        <div id="calendar" class="w-full max-w-full"></div>
        </div>
    </div>
    <script>
    document.addEventListener("DOMContentLoaded", function () {
      const calendarEl = document.getElementById("calendar");
      const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: "dayGridMonth",
        headerToolbar: {
          left: false,
          center: "title",
          right: "prev,next"
        },
        navLinks: true,
        nowIndicator: true,
        weekNumbers: false,
        selectable: false,
        eventTimeFormat: { hour: "numeric", minute: "2-digit", meridiem: "short" },
        events: "{% url "website:calendar_events" %}",   // <-- our JSON endpoint
        // timezone handling: let FullCalendar parse ISO; set your display zone:
        timeZone: "local", // or "America/New_York" if you want to lock it
        eventClick(info) {
          // Default behavior if a URL exists: open it.
          if (info.event.url) {
            info.jsEvent.preventDefault();
            window.location.href = info.event.url;
          } else {
            // Quick detail popup
            alert(`${info.event.title}\n${info.event.start?.toLocaleString()}${info.event.end ? " - " + info.event.end.toLocaleString() : ""}`);
          }
        },
          eventDidMount(info) {
            if (info.event.extendedProps.confirmed === false){
                // Gray out unconfirmed events
                info.el.style.backgroundColor = "#999999";
                info.el.style.borderColor = "#999999";

                // Append "(PENDING)" to the event title
                const titleElement = info.el.querySelector(".fc-event-title");
                if (titleElement) {
                  titleElement.textContent += " (PENDING)";
                }
            } else if(info.event.extendedProps.confirmed === true && info.event.extendedProps.active === true){
                // Append "(NOW PLAYING)" to the event title
                const titleElement = info.el.querySelector(".fc-event-title");
                if (titleElement) {
                  titleElement.textContent += " (NOW PLAYING)";
                }
            }
          }
      });

      calendar.render();
    });
  </script>
{% endblock content %}
