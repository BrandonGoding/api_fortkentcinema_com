{% extends 'base.html' %}
{% load static %}
{% block title %}Fort Kent Cinema | {{ object.title }}{% endblock %}
{% block description %}{% if object.summary %}{{ object.summary }}{{ object.title }} — {{ object.subtitle }}. Written by {{ object.author.full_name }}, published on the Fort Kent Cinema Blog.{% endif %}{% endblock %}"
{% block og_title %}Fort Kent Cinema | {{ object.title }}{% endblock %}"
{% block og_image %}{{ object.header_image.url|default:"https://cdn.fortkentcinema.com/static/website/img/projector-background.jpg" }}{% endblock %}
{% block og_type %}article{% endblock %}
{% block og_description %}{% if object.summary %}{{ object.summary }}{{ object.title }} — {{ object.subtitle }}. Written by {{ object.author.full_name }}, published on the Fort Kent Cinema Blog.{% endif %}{% endblock %}
{# Canonical #}
<link rel="canonical" href="{{ request.build_absolute_uri }}">

{# Open Graph article fields #}
<meta property="article:published_time" content="{{ object.post_date|date:'c' }}">
<meta property="article:author" content="{{ object.author.full_name }}">
<meta property="article:section" content="{{ object.category.name }}">
{# If you have tags: #}
{# {% for tag in object.tags.all %}<meta property="article:tag" content="{{ tag.name }}">{% endfor %} #}

{# Helpful for some parsers #}
<meta property="og:image:alt" content="{{ object.title }} — {{ object.subtitle }}">
<meta property="og:image:type" content="image/jpeg">

{# Twitter #}
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Fort Kent Cinema | {{ object.title }}">
<meta name="twitter:description" content="{% if object.summary %}{{ object.summary|truncatechars:180 }}{% else %}{{ object.subtitle|truncatechars:180 }}{% endif %}">
<meta name="twitter:image" content="{{ block.super|default:'' }}{% block twitter_image %}{{ object.header_image.url|default:'https://cdn.fortkentcinema.com/static/website/img/projector-background.jpg' }}{% endblock %}">

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "{{ request.build_absolute_uri }}"
  },
  "headline": "{{ object.title|escapejs }}",
  "alternativeHeadline": "{{ object.subtitle|default:''|escapejs }}",
  "image": [
    "{{ object.header_image.url|default:'https://cdn.fortkentcinema.com/static/website/img/projector-background.jpg' }}"
  ],
  "datePublished": "{{ object.post_date|date:'c' }}",
  "dateModified": "{{ object.post_date|date:'c' }}",
  "author": {
    "@type": "Person",
    "name": "{{ object.author.full_name|escapejs }}"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Fort Kent Cinema",
    "logo": {
      "@type": "ImageObject",
      "url": "https://cdn.fortkentcinema.com/static/website/img/FKC_logo_black.png"
    }
  },
  "description": "{% if object.summary %}{{ object.summary|striptags|truncatechars:300|escapejs }}{% else %}{{ object.subtitle|striptags|truncatechars:300|escapejs }}{% endif %}"
}
</script>


{% block content %}

    <div class="max-w-4xl mx-auto px-6 py-12">
        <div class="bg-white relative p-8 rounded-lg shadow-md border border-gray-300 lined-paper"><h1
                class="text-4xl font-bold text-gray-900 mb-4 ml-2">{{ object.title }}</h1>
            <h2 class="text-2xl font-medium text-gray-600 mb-6 ml-2">{{ object.subtitle }}</h2>
            <div class="text-sm text-gray-500 mb-8  ml-2"><p><span class="font-semibold">Post By:</span> {{ object.author.full_name }}
            </p>
                <p><span class="font-semibold">Written On:</span> {{ object.post_date }}</p></div>
            <div class="prose prose-lg max-w-none text-gray-800  ml-2">
                {{ object.content|linebreaksbr }}
            </div>
        </div>
    </div>
{% if object.products.all %}
    <section class="bg-gray-50 py-8 antialiased md:py-12">
  <div class="mx-auto max-w-screen-xl px-4 2xl:px-0">
    <div class="mb-4 grid gap-4 sm:grid-cols-2 md:mb-8 lg:grid-cols-3 xl:grid-cols-4">
    {% for product in object.products.all %}
      <div class="rounded-lg border border-gray-200 bg-white p-6 shadow-sm flex flex-col">
        <div class="h-56 w-full">
          <a href="{{ product.link }}" target="_blank" rel="noopener noreferrer">
            <img class="mx-auto h-56" src="{{ product.image.url }}" alt="" />
          </a>
        </div>
        <div class="pt-6 flex-grow flex flex-col">
          <a href="{{ product.link }}" class="text-lg font-semibold leading-tight text-gray-500 hover:underline">{{ product.name }}</a>
          <div class="mt-2 flex gap-2 flex-grow ">
            <p class="text-sm font-medium text-gray-500">{{ product.description }}</p>
          </div>
          <div class="mt-4 flex items-center justify-between gap-4">
            <a href="{{ product.link }}" class="inline-flex items-center rounded-lg bg-blue-500 px-5 py-2.5 text-sm font-medium text-white hover:bg-primary-800 focus:outline-none focus:ring-4  focus:ring-primary-300">
              <svg class="-ms-2 me-2 h-5 w-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4h1.5L8 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm.75-3H7.5M11 7H6.312M17 4v6m-3-3h6" />
              </svg>
              View on Amazon
            </a>
          </div>
        </div>
      </div>
    {% endfor %}
    </div>

  </div>

</section>
{% endif %}
{% endblock content %}
